#!/bin/env cmsRun

process cvranalysis = {
    include "FWCore/MessageLogger/data/MessageLogger.cfi"
    replace MessageLogger.debugModules = { "cVRAnalyser" }

    source = PoolSource {
# untracked vstring fileNames = { "file:cvrtracks.root"}
 untracked vstring fileNames = { '/store/mc/2007/11/19/RelVal-RelValBJets_Pt_50_120-1195478550/0000/24351F07-4B98-DC11-92C0-001617C3B642.root',
  '/store/mc/2007/11/18/RelVal-RelValBJets_Pt_50_120-1195426437/0015/02140946-7196-DC11-85AE-001731AF68CF.root',
  '/store/mc/2007/11/18/RelVal-RelValBJets_Pt_50_120-1195426437/0015/20247B53-7396-DC11-B86C-001A928116EA.root',
  '/store/mc/2007/11/18/RelVal-RelValBJets_Pt_50_120-1195426437/0015/54923324-8E96-DC11-9F3F-001A92971B90.root',
  '/store/mc/2007/11/18/RelVal-RelValBJets_Pt_50_120-1195426437/0015/5E04265F-8A96-DC11-8A90-0017312A250B.root',
  '/store/mc/2007/11/18/RelVal-RelValBJets_Pt_50_120-1195426437/0015/5EA03181-7096-DC11-B4EA-001A92971B1A.root',
  '/store/mc/2007/11/18/RelVal-RelValBJets_Pt_50_120-1195426437/0015/62F6A413-7596-DC11-8051-0018F3D0960A.root',
  '/store/mc/2007/11/18/RelVal-RelValBJets_Pt_50_120-1195426437/0015/7E458EFC-7396-DC11-A05F-001731A28F19.root',
  '/store/mc/2007/11/18/RelVal-RelValBJets_Pt_50_120-1195426437/0015/C401CB7D-7796-DC11-868B-001BFCDBD100.root'
      }
    }
    

    untracked PSet maxEvents = {untracked int32 input = 100 }

    include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"
    include "TrackingTools/TransientTrack/data/TransientTrackBuilder.cfi"
    include "RecoVertex/PrimaryVertexProducer/data/OfflinePrimaryVerticesFromCTFTracks.cfi"
    include "RecoVertex/BeamSpotProducer/data/BeamSpot.cff"
    include "RecoJets/JetAssociationProducers/data/ic5JetTracksAssociatorAtVertex.cfi"
    include "SimTracker/TrackAssociation/data/TrackAssociatorByHits.cfi"
    include "SimGeneral/TrackingAnalysis/data/trackingParticles.cfi"

    module cVRAnalysis = CVRAnalysis
    {
      string trackcoll = "ctfWithMaterialTracks"
      string vertexcoll = "offlinePrimaryVerticesFromCTFTracks"
      string truth = "trackingtruthprod"
      string associator = "TrackAssociatorByHits"
      string beamspot = "offlineBeamSpot"
      include "RecoVertex/ConfigurableVertexReco/test/avr.cfi"
    }

    path p = { cVRAnalysis }
}
